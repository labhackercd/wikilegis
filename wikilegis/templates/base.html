{% load static compress %}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block extrameta %}
    {% endblock %}
    <title>{% block title %}Wikilegis{% endblock %}</title>

		<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/icon?family=Material+Icons' rel='stylesheet'>
    {% compress css %}
        <link type="text/x-scss" rel="stylesheet" href="{% static "sass/style.scss" %}"  media="screen,projection"/>
    {% endcompress %}
</head>

<body>
    {% block content %}

    {% endblock %}

    {% block bottom_scripts %}
        {% compress js %}
            <script type="text/javascript" src="{% static "js/jquery-2.1.4.js" %}"></script>
            <script type="text/javascript" src="{% static "js/materialize.js" %}"></script>
            <script type="text/javascript" src="{% static "js/diff.min.js" %}"></script>
            <script type="text/javascript" src="{% static "js/lodash.min.js" %}"></script>
            <script type="text/javascript" src="{% static "js/css3-animate-it.js" %}"></script>
            <script type="text/javascript" src="{% static "js/clipboard.min.js" %}"></script>
            <script type="text/javascript" src="{% static "js/scripts.js" %}"></script>
        {% endcompress %}

        {% if messages %}
        <script type="text/javascript">
            {% comment %}
            FIXME This is a utterly idiotic way to handle messages.

            Here's why:

                * What if there is no JS available?

                * What if the user is browsing another tab and the toasts go away? (3000ms of duration)

                * No color.

                * Toasts in web browsers suck. We are not Google. This isn't Inbox.

                * It isn't even working.
            {% endcomment %}
            $.ready(function() {
                {% for message in messages %}
                    Materialize.toast("{% if message.tags %}{{ message.tags }}: {% endif %}{{ message }}", 3000);
                {% endfor %}
            });
        </script>
        {% endif %}
    {% endblock %}

    {% block partialscript %}

    {% endblock %}


    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-56d59e5f7525348b"></script>
    <!-- begin olark code -->
    <script data-cfasync="false" type='text/javascript'>/*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
        f[z]=function(){
        (a.s=a.s||[]).push(arguments)};var a=f[z]._={
        },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
        f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
        0:+new Date};a.P=function(u){
        a.p[u]=new Date-a.p[0]};function s(){
        a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
        hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
        return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
        b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
        b.contentWindow[g].open()}catch(w){
        c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
        var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
        b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
        loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
        /* custom configuration goes here (www.olark.com/documentation) */
        olark.identify('1793-549-10-1318');/*]]>*/</script><noscript><a href="https://www.olark.com/site/1793-549-10-1318/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a></noscript>
        <!-- end olark code -->

    <!-- begin Analytics code -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-70690943-3', 'auto');
      ga('send', 'pageview');

    </script>
    <!-- end Analytics code -->

</body>
</html>
